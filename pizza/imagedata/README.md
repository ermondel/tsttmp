# Pizza imagedata

## Курс дела
Чтобы рандомно размещать на полотне пиццы ингредиенты нужно помнить что пицца круглая. А значит, что если 
просто рандомить, то иконка ингредиента будет попадать, в том числе, и на пустые белые пространства.
Чтобы этого избежать, нужно иметь список (например как простой массив) **разрешенных** координат в пикселях.

## Алгоритм решения
* Рисуем на канвасе наше полотно пиццы;
* Над ним рисуем **красный** круг, размером чуть меньше пиццы (чуть меньше - это чтобы учесть ширины бордюров 
пиццы, на которых не нужно рисовать иконки ингредиентов);
* Убираем с канваса наше полотно пиццы, оставляем только красный круг;
* Получаем информацию о пикселях (imagedata) плоскости занимаемой красным кругом;
* Выбираем из них только красные (= 255), и записываем их координаты x и y;
* Записанный список координат сохраняется как JSON, он и будет служить списком разрешенных координат в пикселях;
* Если возможных размеров пиццы больше чем одна, то повторяем все это для каждого размера.

### Детальнее
1) Пуллим себе на локальный компьютер реп tsttmp, если еще нет его последней версии.
```
git pull
```
2) Идем в папку
```
tsttmp / pizza / imagedata
```
3) Там файлы:
* README.md
* pizza.png -- это будет наше полотно пиццы;
* index.html -- скрипт.
4) Открываем index.html, и в нем расскоментим пункты a) и b), а пункты c), d) и e) -- заккоментим.
5) Запускаем нодовский локальный сервер и смотрим (**без локального сервера канвас будет ругаться на CORS**)
```
http://localhost:8080/tsttmp/pizza/imagedata/
```
6) Нарисуется наше полотно пиццы и красный круг на нем. 

7) Размер пиццы меняем на свой нужный при помощи 

```
const pizza_width  = <int>;
const pizza_height = <int>;
```
8) Красный круг должен быть чуть меньше, учитывая бордюры пиццы, поэтому *на глаз*
регулируем его размер с помощью переменной 
```
const pizza_border_offset = <int>;
```
9) Когда красный кргу подходит по размеру, то закомментим пункт a), а пункты c), d) и e) -- раскомментим.
10) Результат вывода в консоль здоровенного JSON массива сохраняем в отдельный js файл, который будем использовать
как список разрешенных координат в пикселях для конкретно этих размеров полотна пиццы.
11) Если возможных размеров пиццы больше чем одна, то повторяем все выше, начиная с пункта 7, для каждого из размеров полотна.
