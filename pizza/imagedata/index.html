<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<canvas id="canvas" width="320" height="320"></canvas>
<script>
	
const canvas = document.getElementById('canvas');
const context = canvas.getContext('2d');
const canvasRx = Math.round(320 / 2);
const canvasRy = Math.round(320 / 2);

const pizza = new Image();
pizza.src = './pizza.png';
pizza.setAttribute('crossOrigin', ' ');
const pizza_width  = 320;
const pizza_height = 320;
const pizzaRx = Math.round(pizza_width / 2);
const pizzaRy = Math.round(pizza_height / 2);
const pizza_border_offset = 37;

pizza.onload = function() {
	// a) draw pizza
	context.drawImage(pizza, canvasRx - pizzaRx, canvasRy - pizzaRy, pizza_width, pizza_height);

	// b) see borders and draw red circle
	context.beginPath();
	context.arc(canvasRx, canvasRy, pizzaRx - pizza_border_offset, 0, 2 * Math.PI, false);
	context.fillStyle = 'red';
    context.fill();

	// c) get pixels
	/*
	const imageData = context.getImageData(canvasRx - pizzaRx, canvasRy - pizzaRy, pizza_width, pizza_height);
	const data = imageData.data;
	*/

	// d) search coordinates of reds pixels
	/*
	reds = [];
	for (let y = 0; y < pizza_height; y++) {
		for (let x = 0; x < pizza_width; x++) {
			const red = data[(pizza_width * y + x) * 4]; // xx
			if (red === 255) reds.push(x+';'+y);
		}
	}
	*/

	// e) display results
	// console.log(reds.length);
	// console.log(JSON.stringify(reds));
};

</script>
</body>
</html>